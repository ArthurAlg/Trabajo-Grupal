@{
    ViewData["Title"] = "Libreria Reatten | ";
}

<style>
    .carousel {
        position: relative;
        width: 100%;
        overflow: hidden;
    }

    .carousel__wrapper {
        overflow: hidden;
        margin: 0 auto;
    }

    .carousel__container {
        display: flex;
        transition: transform 0.5s ease-in-out;
    }

    .carousel__item {
        flex: 0 0 100%;
        height: auto;
        width: 100%;
    }

    .carousel__dots {
        display: flex;
        justify-content: center;
        margin-top: 10px;
    }

    .carousel__dot {
        width: 10px;
        height: 10px;
        margin: 0 5px;
        border-radius: 50%;
        background-color: #ccc;
        cursor: pointer;
        transition: transform 0.3s ease-in-out;
    }

    .carousel__dot--active {
        transform: scale(1.5);
        background-color: #581908;
    }

    

</style>

<br>
<div class="text-center">

    <div class="carousel">
        <div class="carousel__wrapper">
            <div class="carousel__container">
                <img class="carousel__item" src="/Images/portada.png" alt="Imagen 1">
                <img class="carousel__item" src="/Images/portada.png" alt="Imagen 2">
                <img class="carousel__item" src="/Images/portada.png" alt="Imagen 3">
                <img class="carousel__item" src="/Images/portada.png" alt="Imagen 4">
                <img class="carousel__item" src="/Images/portada.png" alt="Imagen 5">
            </div>
        </div>
        <br>
        <div class="carousel__dots">
            <span class="carousel__dot" data-slide="0"></span>
            <span class="carousel__dot" data-slide="1"></span>
            <span class="carousel__dot" data-slide="2"></span>
            <span class="carousel__dot" data-slide="3"></span>
            <span class="carousel__dot" data-slide="4"></span>
            <br><br>
        </div>
    </div>





    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

<script>
    // Obtén los elementos del carrusel
    const container = document.querySelector('.carousel__container');
    const items = document.querySelectorAll('.carousel__item');
    const dots = document.querySelectorAll('.carousel__dot');

    let currentIndex = 0;
    let intervalId; // Almacenará el ID del intervalo

    // Función para cambiar a la siguiente imagen
    function nextSlide() {
        currentIndex = (currentIndex + 1) % items.length;
        updateCarousel();
    }

    // Función para cambiar a la imagen anterior
    function prevSlide() {
        currentIndex = (currentIndex - 1 + items.length) % items.length;
        updateCarousel();
    }

    // Función para actualizar la vista del carrusel
    function updateCarousel() {
        container.style.transform = `translateX(-${currentIndex * 100}%)`;

        // Marca el punto activo
        dots.forEach((dot, index) => {
            dot.classList.toggle('carousel__dot--active', index === currentIndex);
        });
    }

    // Función para avanzar automáticamente
    function autoAdvance() {
        nextSlide();
    }

    // Iniciar el intervalo para avanzar automáticamente
    intervalId = setInterval(autoAdvance, 3000); // Cambia de imagen cada 3 segundos

    // Detener el intervalo al hacer clic en un punto o flecha
    function stopAutoAdvance() {
        clearInterval(intervalId);
    }

    // Escucha los clics en los puntos
    dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
            currentIndex = index;
            updateCarousel();
            stopAutoAdvance(); // Detener el avance automático
        });
    });

    // Agrega escuchas de eventos para las flechas
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');

    prevButton.addEventListener('click', () => {
        prevSlide();
        stopAutoAdvance(); // Detener el avance automático
    });
    nextButton.addEventListener('click', () => {
        nextSlide();
        stopAutoAdvance(); // Detener el avance automático
    });
</script>
